/* ============================================
   SmartKeja - Comprehensive Responsive Design
   Mobile First Approach
   ============================================ */

/* ============================================
   Breakpoints:
   - Mobile: < 576px
   - Tablet: 576px - 991px
   - Desktop: 992px+
   ============================================ */

/* ============================================
   Base Mobile Styles (Default)
   ============================================ */

/* Prevent horizontal scroll on mobile */
@media (max-width: 575.98px) {
    html, body {
        overflow-x: hidden !important;
        max-width: 100% !important;
        width: 100% !important;
    }
    
    body {
        position: relative;
    }
    
    /* Ensure all containers respect viewport */
    .container,
    .container-fluid {
        max-width: 100% !important;
        overflow-x: hidden !important;
    }
    
    /* Fix any elements that might overflow */
    * {
        max-width: 100%;
    }
    
    img {
        max-width: 100%;
        height: auto;
    }
}

/* Navigation - Mobile */
@media (max-width: 991.98px) {
    .navbar-brand .brand-text-sub {
        display: none !important;
    }
    
    .navbar-nav {
        text-align: center;
        padding: 1rem 0;
    }
    
    .navbar-nav .nav-link {
        padding: 0.75rem 1rem;
        font-size: 1rem;
    }
    
    .navbar-nav .btn {
        width: 100%;
        margin: 0.25rem 0;
    }
}

/* Container & Layout - Mobile */
@media (max-width: 575.98px) {
    * {
        box-sizing: border-box;
    }
    
    .container-fluid {
        padding-left: 12px !important;
        padding-right: 12px !important;
        margin-left: 0 !important;
        margin-right: 0 !important;
    }
    
    #search {
        padding: 16px 0;
        overflow-x: hidden;
    }
    
    #search .container-fluid {
        padding-left: 12px;
        padding-right: 12px;
        width: 100%;
        max-width: 100%;
    }
    
    #search .row {
        margin-left: 0 !important;
        margin-right: 0 !important;
        display: block;
    }
    
    #search .row > * {
        padding-left: 0 !important;
        padding-right: 0 !important;
        width: 100% !important;
        max-width: 100% !important;
        margin-bottom: 16px;
    }
}

/* Filter Sidebar - Mobile */
@media (max-width: 991.98px) {
    .filter-sidebar {
        position: relative !important;
        top: 0 !important;
        max-height: none !important;
        margin-bottom: 20px !important;
        border-radius: 12px;
        width: 100% !important;
        clear: both;
        float: none;
    }
    
    .filter-sidebar .btn-group {
        flex-wrap: wrap;
        width: 100%;
    }
    
    .filter-sidebar .btn-group .btn {
        flex: 1 1 calc(50% - 4px);
        min-width: calc(50% - 4px);
        margin: 2px;
    }
    
    /* Ensure filter sidebar doesn't overlap */
    .col-lg-3 {
        width: 100% !important;
        flex: 0 0 100% !important;
        max-width: 100% !important;
        margin-bottom: 16px;
    }
    
    .col-lg-9 {
        width: 100% !important;
        flex: 0 0 100% !important;
        max-width: 100% !important;
    }
}

/* Search Bar - Mobile */
@media (max-width: 767.98px) {
    #search .card {
        padding: 16px;
        width: 100% !important;
        margin-bottom: 16px !important;
    }
    
    .input-group {
        flex-direction: column;
        width: 100% !important;
    }
    
    .input-group .form-control {
        border-radius: 8px 8px 0 0 !important;
        margin-bottom: 8px;
        width: 100% !important;
    }
    
    .input-group .btn {
        border-radius: 0 0 8px 8px !important;
        width: 100% !important;
    }
    
    /* Ensure search section doesn't overlap */
    #search > .container-fluid > .row {
        display: flex !important;
        flex-direction: column !important;
        width: 100% !important;
    }
}

/* Property Cards - Mobile */
@media (max-width: 575.98px) {
    .property-card {
        margin-bottom: 24px !important;
        width: 100% !important;
        max-width: 100% !important;
        margin-left: 0 !important;
        margin-right: 0 !important;
        display: block !important;
    }
    
    .property-image-wrapper {
        height: 220px !important;
        width: 100% !important;
    }
    
    .property-info-section {
        padding: 16px !important;
        width: 100% !important;
    }
    
    .property-title {
        font-size: 1.1rem !important;
        line-height: 1.3;
        margin-bottom: 8px !important;
    }
    
    .property-features {
        grid-template-columns: repeat(3, 1fr) !important;
        gap: 8px !important;
        padding: 12px 8px !important;
        width: 100% !important;
        margin: 0 !important;
    }
    
    .feature-item {
        flex-direction: column;
        text-align: center;
        gap: 4px;
        width: 100% !important;
    }
    
    .feature-item i {
        font-size: 1.2rem;
    }
    
    .feature-item span {
        font-size: 0.75rem;
    }
    
    .property-pricing {
        flex-direction: column;
        gap: 12px;
        padding: 16px !important;
        width: 100% !important;
    }
    
    .price-display {
        text-align: center;
        width: 100% !important;
    }
    
    .btn-booking {
        width: 100% !important;
        padding: 14px 20px;
        font-size: 1rem;
        margin: 0 !important;
    }
    
    .property-map-container {
        height: 180px !important;
        width: 100% !important;
    }
    
    .map-actions {
        grid-template-columns: 1fr !important;
        gap: 8px;
        width: 100% !important;
    }
    
    .btn-map-action {
        width: 100% !important;
        justify-content: center;
        padding: 12px 16px;
        margin: 0 !important;
    }
    
    /* Ensure no overlapping */
    .property-card > * {
        width: 100% !important;
        max-width: 100% !important;
    }
}

/* Listings Grid - Responsive */
@media (max-width: 575.98px) {
    #listings {
        width: 100% !important;
        padding: 0 !important;
        margin: 0 !important;
    }
    
    .listings-grid {
        grid-template-columns: 1fr !important;
        gap: 20px !important;
        width: 100% !important;
        margin: 0 !important;
        padding: 0 !important;
    }
    
    .listings-list {
        width: 100% !important;
        margin: 0 !important;
        padding: 0 !important;
    }
    
    .listings-list .property-card {
        flex-direction: column;
        width: 100% !important;
        margin-bottom: 20px !important;
    }
    
    .listings-list .property-image-wrapper {
        width: 100% !important;
        height: 220px !important;
    }
    
    /* Fix any column issues */
    .row > [class*="col-"] {
        width: 100% !important;
        flex: 0 0 100% !important;
        max-width: 100% !important;
        padding-left: 0 !important;
        padding-right: 0 !important;
        margin-bottom: 16px;
    }
}

/* View Toggle - Mobile */
@media (max-width: 767.98px) {
    .view-toggle {
        margin-bottom: 16px;
        justify-content: center;
    }
    
    .view-toggle .btn {
        padding: 8px 16px;
        font-size: 0.9rem;
    }
}

/* Pagination - Mobile */
@media (max-width: 575.98px) {
    .pagination {
        flex-wrap: wrap;
        justify-content: center;
        gap: 4px;
    }
    
    .pagination .page-link {
        padding: 8px 12px;
        font-size: 0.9rem;
        min-width: 40px;
    }
}

/* ============================================
   Tablet Styles (576px - 991px)
   ============================================ */

@media (min-width: 576px) and (max-width: 991.98px) {
    .container-fluid {
        padding-left: 20px;
        padding-right: 20px;
    }
    
    .property-card {
        margin-bottom: 24px;
    }
    
    .property-image-wrapper {
        height: 280px;
    }
    
    .property-features {
        grid-template-columns: repeat(3, 1fr);
        gap: 12px;
    }
    
    .listings-grid {
        grid-template-columns: repeat(2, 1fr);
        gap: 24px;
    }
    
    .map-actions {
        grid-template-columns: repeat(2, 1fr);
    }
    
    .filter-sidebar {
        margin-bottom: 24px;
    }
}

/* ============================================
   Desktop Styles (992px+)
   ============================================ */

@media (min-width: 992px) {
    .listings-grid {
        grid-template-columns: repeat(3, 1fr);
    }
    
    .property-image-wrapper {
        height: 320px;
    }
    
    .map-actions {
        grid-template-columns: repeat(3, 1fr);
    }
}

/* Large Desktop (1200px+) */
@media (min-width: 1200px) {
    .container-fluid {
        max-width: 1400px;
        margin: 0 auto;
    }
    
    .listings-grid {
        grid-template-columns: repeat(3, 1fr);
        gap: 32px;
    }
}

/* ============================================
   Touch Device Optimizations
   ============================================ */

@media (hover: none) and (pointer: coarse) {
    /* Larger touch targets for mobile */
    .btn {
        min-height: 44px;
        min-width: 44px;
        padding: 12px 20px;
    }
    
    .nav-link {
        min-height: 44px;
        display: flex;
        align-items: center;
    }
    
    .form-control,
    .form-select {
        min-height: 44px;
        font-size: 16px; /* Prevents zoom on iOS */
    }
    
    /* Better spacing for touch */
    .property-card {
        margin-bottom: 24px;
    }
    
    .map-actions .btn {
        padding: 14px 16px;
    }
}

/* ============================================
   Landscape Mobile
   ============================================ */

@media (max-width: 991.98px) and (orientation: landscape) {
    .property-image-wrapper {
        height: 200px;
    }
    
    .property-map-container {
        height: 160px;
    }
}

/* ============================================
   Footer - Responsive
   ============================================ */

@media (max-width: 767.98px) {
    footer .row > div {
        margin-bottom: 2rem;
        text-align: center;
    }
    
    footer .d-flex.gap-3 {
        justify-content: center;
    }
    
    footer .btn {
        width: 100%;
        margin-bottom: 0.5rem;
    }
}

/* ============================================
   Modal - Responsive
   ============================================ */

@media (max-width: 575.98px) {
    .modal-dialog {
        margin: 0.5rem;
        max-width: calc(100% - 1rem);
    }
    
    .modal-content {
        border-radius: 12px;
    }
    
    .modal-header,
    .modal-body,
    .modal-footer {
        padding: 1rem;
    }
    
    #propertyMapContainer {
        height: 300px !important;
    }
}

/* ============================================
   Typography - Responsive
   ============================================ */

@media (max-width: 575.98px) {
    h1 {
        font-size: 1.75rem;
    }
    
    h2 {
        font-size: 1.5rem;
    }
    
    h3 {
        font-size: 1.25rem;
    }
    
    h4 {
        font-size: 1.1rem;
    }
    
    h5 {
        font-size: 1rem;
    }
    
    .lead {
        font-size: 1rem;
    }
}

/* ============================================
   Forms - Responsive
   ============================================ */

@media (max-width: 575.98px) {
    .form-label {
        font-size: 0.9rem;
        margin-bottom: 0.5rem;
    }
    
    .form-control,
    .form-select {
        font-size: 16px; /* Prevents zoom on iOS */
        padding: 12px;
    }
    
    .input-group-text {
        padding: 12px;
    }
    
    .btn-group {
        flex-wrap: wrap;
    }
    
    .btn-group .btn {
        flex: 1 1 auto;
        min-width: calc(50% - 4px);
    }
}

/* ============================================
   Utilities - Responsive
   ============================================ */

/* Hide on mobile */
@media (max-width: 575.98px) {
    .d-mobile-none {
        display: none !important;
    }
}

/* Show only on mobile */
@media (min-width: 576px) {
    .d-mobile-only {
        display: none !important;
    }
}

/* Hide on tablet */
@media (min-width: 576px) and (max-width: 991.98px) {
    .d-tablet-none {
        display: none !important;
    }
}

/* Show only on tablet */
@media (max-width: 575.98px),
       (min-width: 992px) {
    .d-tablet-only {
        display: none !important;
    }
}

/* ============================================
   Print Styles
   ============================================ */

@media print {
    .navbar,
    .filter-sidebar,
    .view-toggle,
    .map-actions,
    .btn,
    footer {
        display: none !important;
    }
    
    .property-card {
        break-inside: avoid;
        page-break-inside: avoid;
    }
}

